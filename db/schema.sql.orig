CREATE DATABASE boutique_hotel;

USE boutique_hotel;

CREATE TABLE
  extra (
    id SMALLINT unsigned auto_increment PRIMARY key,
<<<<<<< HEAD
    type tinytext NOT NULL
  );

CREATE TABLE
  room (
    id INT unsigned auto_increment PRIMARY key,
    title tinytext NOT NULL,
    description text NOT NULL,
=======
    name tinytext NOT NULL,
    description tinytext NOT NULL,
    icon_name tinytext NOT NULL
  );

CREATE TABLE
  hotel (
    id INT unsigned auto_increment PRIMARY key,
    name tinytext NOT NULL,
>>>>>>> 37bfc2366472dbadf1f3057567c006e8b8689b47
    address tinytext NOT NULL,
    latitude FLOAT (10, 6) NOT NULL,
    longitude FLOAT (10, 6) NOT NULL,
    directions text NOT NULL,
    contact_phone_number VARCHAR(20) NOT NULL
  );

CREATE TABLE
<<<<<<< HEAD
  booking (
    id INT unsigned auto_increment PRIMARY key,
    customer_name tinytext NOT NULL,
    customer_surname tinytext NOT NULL,
    customer_email tinytext NOT NULL,
    breakfast tinyint (1) NOT NULL,
    START DATE NOT NULL,
    END DATE NOT NULL,
    room_id INT unsigned NOT NULL,
    CONSTRAINT booking_room_id_fk FOREIGN key (room_id) REFERENCES room (id)
=======
  room (
    id INT unsigned auto_increment PRIMARY key,
    hotel_id INT unsigned NOT NULL,
    room_number SMALLINT unsigned NOT NULL,
    title tinytext NOT NULL,
    description text NOT NULL,
    bed_amount tinyint unsigned NOT NULL,
    price tinyint unsigned NOT NULL,
    CONSTRAINT room_hotel_id_fk FOREIGN key (hotel_id) REFERENCES hotel (id)
  );

CREATE TABLE
  customer (
    id INT unsigned auto_increment PRIMARY key,
    first_name tinytext NOT NULL,
    second_name tinytext NOT NULL,
    email tinytext NOT NULL,
    birth_date DATE NOT NULL
  );

CREATE TABLE
  booking (
    id INT unsigned auto_increment PRIMARY key,
    customer_id INT unsigned NOT NULL,
    breakfast tinyint (1) NOT NULL,
    start_date DATE NOT NULL,
    end_date DATE NOT NULL,
    room_id INT unsigned NOT NULL,
    CONSTRAINT booking_room_id_fk FOREIGN key (room_id) REFERENCES room (id),
    CONSTRAINT booking_customer_id_fk FOREIGN key (customer_id) REFERENCES customer (id)
>>>>>>> 37bfc2366472dbadf1f3057567c006e8b8689b47
  );

CREATE TABLE
  room_extra (
    room_id INT unsigned NOT NULL,
    extra_id SMALLINT unsigned NOT NULL,
    CONSTRAINT room_extra_extra_id_fk FOREIGN key (extra_id) REFERENCES extra (id) ON DELETE CASCADE,
    CONSTRAINT room_extra_room_id_fk FOREIGN key (room_id) REFERENCES room (id) ON DELETE CASCADE
  );